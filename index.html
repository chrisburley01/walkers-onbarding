<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Walkers | Onboarding Portal</title>
<base href="./">
<link rel="icon" href="assets/walkers-logo.svg" />
<meta name="description" content="Walkers Transport – Onboarding Portal" />
<style>
  :root{
    --brand-primary:#0A2135; --brand-primary-700:#051524; --brand-accent:#0072CE; --brand-red:#E30613;
    --text:#222831; --muted:#6B7280; --bg:#F7F8FA; --surface:#FFFFFF; --line:#E6E8EE;
    --radius:16px; --shadow:0 6px 18px rgba(0,0,0,.08);
  }
  *{box-sizing:border-box} html,body{height:100%}
  body{
    margin:0;
    background:
      radial-gradient(900px 420px at 70% -10%, color-mix(in oklab, var(--brand-primary) 12%, transparent), transparent 65%),
      var(--bg);
    color:var(--text);
    font:15px/1.45 Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  }
  .shell{max-width:1100px;margin:32px auto;padding:0 16px}
  header{display:flex;align-items:center;gap:16px;margin-bottom:18px}
  .logo{height:44px;width:auto;object-fit:contain;display:block}
  h1{margin:0;font-size:22px}
  .muted{color:var(--muted);font-size:12.5px}

  .bar{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0 20px}
  .btn{appearance:none;border:none;border-radius:12px;padding:10px 14px;font-weight:600;cursor:pointer}
  .btn-outline{background:#fff;border:1px solid #D9DDE6;color:#0a0a0a;text-decoration:none;display:inline-block}
  .pill{display:inline-block;padding:6px 10px;border-radius:9999px;border:1px solid #D9DDE6;background:#fff;font-size:12px}

  .card{background:var(--surface); border:1px solid var(--line); border-radius:var(--radius); box-shadow:var(--shadow); padding:18px; margin-bottom:16px}
  label{display:block;font-size:13px;color:#1d2129;margin-bottom:6px}
  input, textarea, select{width:100%;padding:10px 12px;border-radius:10px;border:1px solid #D9DDE6;background:#fff;color:var(--text);outline:none}
  textarea{min-height:90px;resize:vertical}
  input:focus,textarea:focus,select:focus{border-color:var(--brand-primary); box-shadow:0 0 0 3px color-mix(in oklab, var(--brand-primary) 25%, transparent)}
  .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:12px}
  .col-4{grid-column:span 4}.col-6{grid-column:span 6}.col-8{grid-column:span 8}.col-12{grid-column:span 12}
  @media (max-width:720px){.col-4,.col-6,.col-8{grid-column:span 12}}

  .footer{display:flex;justify-content:space-between;gap:10px;padding:14px;border-top:1px solid var(--line);color:#5b6372;font-size:12px;margin-top:10px}
</style>
</head>
<body>
<div class="shell">
  <header>
    <picture>
      <source srcset="assets/walkers-logo.svg" type="image/svg+xml">
      <img class="logo" src="assets/walkers-logo.png" alt="Walkers Transport" />
    </picture>
    <div>
      <h1>Onboarding Portal</h1>
      <div class="muted">Trading agreement • Checklist • Go-live scheduling</div>
    </div>
  </header>

  <div class="bar">
    <a class="btn btn-outline" href="pre-onboarding.html">← Start Pre-Onboarding</a>
    <span id="handoffPill" class="pill" style="display:none">Loaded from Pre-Onboarding</span>
  </div>

  <!-- Map these IDs into your live form -->
  <section class="card">
    <h3 style="margin:0 0 10px">Company Details</h3>
    <div class="grid">
      <div class="col-8">
        <label for="ob_accountName">Account / Legal Name</label>
        <input id="ob_accountName" type="text" />
      </div>
      <div class="col-4">
        <label for="ob_companyNo">Company Number</label>
        <input id="ob_companyNo" type="text" />
      </div>
      <div class="col-6">
        <label for="ob_sector">Sector</label>
        <input id="ob_sector" type="text" />
      </div>
      <div class="col-6">
        <label for="ob_leadOrigin">Lead Origin</label>
        <select id="ob_leadOrigin">
          <option value="">Select…</option><option>Network</option><option>Direct</option><option>Storage</option><option>Full Logistics Solution</option>
        </select>
      </div>
      <div class="col-6">
        <label for="ob_amName">Account Manager</label>
        <input id="ob_amName" type="text" />
      </div>
      <div class="col-6">
        <label for="ob_volumeForecast">Est. Annual Volume (pallets)</label>
        <input id="ob_volumeForecast" type="number" min="0" />
      </div>
      <div class="col-12">
        <label for="ob_scope">Service Scope</label>
        <input id="ob_scope" type="text" />
      </div>
    </div>
  </section>

  <section class="card">
    <h3 style="margin:0 0 10px">Commercial & Finance (from Pre-Onboarding)</h3>
    <div class="grid">
      <div class="col-4"><label>Expected GP%</label><input id="ob_expGP" type="text" readonly /></div>
      <div class="col-4"><label>CreditSafe Rating</label><input id="ob_csRating" type="text" readonly /></div>
      <div class="col-4"><label>Credit Limit</label><input id="ob_csLimit" type="text" readonly /></div>
      <div class="col-4"><label>Risk Band</label><input id="ob_csRisk" type="text" readonly /></div>
      <div class="col-8"><label>Registered Address (CH)</label><input id="ob_chAddress" type="text" readonly /></div>
    </div>
    <div class="muted" style="margin-top:8px">Need edits? Go back to <a href="pre-onboarding.html">Pre-Onboarding</a> and re-send.</div>
  </section>

  <!-- Your trading agreement / checklist / PandaDoc blocks go here -->

  <div class="footer">
    <span>© Walkers Transport • Onboarding</span>
    <span class="muted">Seamless hand-off from Pre-Onboarding</span>
  </div>
</div>

<script>
(function(){
  const qs=new URLSearchParams(location.search);
  const from=qs.get('from');
  const data=qs.get('data');

  function decodeData(d){
    try{ return JSON.parse(decodeURIComponent(escape(atob(d)))); }catch(e){ return null; }
  }

  if(from==='pre' && data){
    const p=decodeData(data);
    if(p){
      document.getElementById('handoffPill').style.display='inline-block';
      const set=(id,val)=>{const el=document.getElementById(id); if(el) el.value=(val??'');};
      set('ob_accountName', p.accountName);
      set('ob_companyNo', p.companyNo);
      set('ob_amName', p.amName);
      set('ob_sector', p.sector);
      set('ob_volumeForecast', p.volumeForecast);
      set('ob_scope', p.scope);
      const lo=document.getElementById('ob_leadOrigin'); if(lo && p.leadOrigin){ lo.value=p.leadOrigin; }
      set('ob_expGP', p.expGP);
      if(p.credit){ set('ob_csRating', p.credit.rating); set('ob_csLimit', p.credit.limit); set('ob_csRisk', p.credit.risk); }
      if(p.ch){ set('ob_chAddress', p.ch.address); }
    }
  }
})();
</script>
</body>
</html>