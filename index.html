<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Walkers Transport | Digital Customer Onboarding</title>

  <!-- Favicons -->
  <link rel="icon" href="Doc/favicon.ico" sizes="any">
  <link rel="icon" type="image/png" href="Doc/favicon-32x32.png" sizes="32x32">
  <link rel="apple-touch-icon" href="Doc/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="Doc/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="Doc/android-chrome-512x512.png" sizes="512x512">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{
      --walkers-red:#c8102e;
      --walkers-dark:#0f172a;
      --walkers-slate:#1f2937;
      --walkers-gold:#fbbf24;
      --walkers-bg:#f8fafc;
    }
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji"}
    .btn-primary{background:var(--walkers-red);color:#fff}
    .btn-primary:hover{filter:brightness(.95)}
    .btn-dark{background:#0b1220;color:#fff}
    .btn-dark:hover{filter:brightness(.95)}
  </style>
</head>
<body class="bg-[var(--walkers-bg)]">
  <header class="brand-grad text-white shadow-md">
    <div class="max-w-7xl mx-auto flex items-center gap-4 px-6 py-3">
      <img src="Doc/walkers-logo.png" alt="Walkers Transport" class="h-12 w-auto select-none">
      <div>
        <h1 class="text-2xl font-extrabold leading-tight">Walkers Transport</h1>
        <p class="text-white/80 text-sm -mt-0.5">Digital Customer Onboarding</p>
      </div>
      <nav class="hidden md:flex gap-4 text-sm ml-auto">
        <a href="#welcome" class="hover:underline">Welcome</a>
        <a href="#flow" class="hover:underline">Onboarding Flow</a>
        <a href="#trading" class="hover:underline">Trading Agreement</a>
        <a href="#checklist" class="hover:underline">Customer Checklist</a>
        <a href="#uploads" class="hover:underline">Uploads</a>
        <a href="#submit" class="hover:underline">Submit</a>
      </nav>
    </div>
  </header>

  <main class="max-w-7xl mx-auto px-6 py-8">
    <div class="flex gap-8">
      <aside class="w-64">
        <h2 class="text-lg font-semibold mb-2">Steps</h2>
        <div id="steps" class="space-y-2"></div>
      </aside>
      <section class="flex-1">
        <div id="content"></div>
      </section>
    </div>
  </main>

  <footer class="mt-12 py-6 text-center text-sm text-gray-500">
    © <span id="year"></span> Walkers Transport — Howley Park Road East, Morley, Leeds LS27 0BN · 0113 220 2800 ·
    <a class="underline" href="mailto:info@walkers-transport.co.uk">info@walkers-transport.co.uk</a> ·
    <a class="underline" href="Doc/Privacy-Notice.pdf">Privacy</a>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    const steps = [
      {id:'welcome',label:'Welcome'},
      {id:'flow',label:'Onboarding Flow'},
      {id:'trading',label:'Trading Agreement'},
      {id:'checklist',label:'Customer Checklist'},
      {id:'uploads',label:'Uploads'},
      {id:'submit',label:'Review & Submit'}
    ];

    let currentStep = 'welcome';
    let formData = {};

    function renderSteps(){
      const container = document.getElementById('steps');
      container.innerHTML = '';
      steps.forEach(s=>{
        const btn=document.createElement('button');
        btn.textContent=s.label;
        btn.className='w-full text-left px-4 py-2 rounded-lg border flex items-center gap-2 ' +
          (s.id===currentStep? 'border-[var(--walkers-red)] text-[var(--walkers-red)] font-semibold':'border-gray-300');
        btn.onclick=()=>{gotoStep(s.id)};
        container.appendChild(btn);
      });
    }

    function gotoStep(id){
      currentStep=id;renderSteps();renderContent();
    }

    function renderContent(){
      const c=document.getElementById('content');
      c.innerHTML='';
      if(currentStep==='welcome'){
        c.innerHTML=`<h2 class="text-xl font-bold mb-2">Welcome</h2><p>Welcome to Walkers Transport digital onboarding. Click below to begin.</p>
        <button class="mt-4 px-4 py-2 rounded-xl btn-primary font-semibold" onclick="gotoStep('flow')">Start now</button>`;
      }
      if(currentStep==='flow'){
        c.innerHTML='<h2 class="text-xl font-bold mb-2">Onboarding Flow</h2><p>See the process outlined in our What\'s Next guide.</p><button onclick="openPdf(\'whatsnext\')" class="px-4 py-2 rounded-xl btn-primary font-semibold">Open What\'s Next</button><br><br><button class="px-4 py-2 rounded-xl btn-primary font-semibold" onclick="gotoStep(\'trading\')">Next: Trading Agreement</button>';
      }
      if(currentStep==='trading'){
        c.innerHTML='<h2 class="text-xl font-bold mb-2">Trading Agreement</h2><button onclick="openPdf(\'trading\')" class="px-4 py-2 rounded-xl btn-primary font-semibold">Open Trading Agreement</button><br><br><button class="px-4 py-2 rounded-xl btn-primary font-semibold" onclick="gotoStep(\'checklist\')">Next: Customer Checklist</button>';
      }
      if(currentStep==='checklist'){
        c.innerHTML='<h2 class="text-xl font-bold mb-2">Customer Checklist</h2><button onclick="openPdf(\'checklist\')" class="px-4 py-2 rounded-xl btn-primary font-semibold">Open Customer Checklist</button><br><br><button class="px-4 py-2 rounded-xl btn-primary font-semibold" onclick="gotoStep(\'uploads\')">Next: Uploads</button>';
      }
      if(currentStep==='uploads'){
        c.innerHTML='<h2 class="text-xl font-bold mb-2">Uploads</h2><p>Please email insurance schedule, SDS, and rate card to your account manager.</p><br><button class="px-4 py-2 rounded-xl btn-primary font-semibold" onclick="gotoStep(\'submit\')">Next: Review & Submit</button>';
      }
      if(currentStep==='submit'){
        c.innerHTML='<h2 class="text-xl font-bold mb-2">Review & Submit</h2><p>Download a copy of your responses and then submit to Walkers.</p><div class="mt-4 flex gap-3"><button id="previewBtn" class="px-4 py-2 rounded-xl border font-semibold">Preview JSON</button><button id="downloadBtn" class="px-4 py-2 rounded-xl btn-primary font-semibold">Download JSON</button><button id="emailBtn" class="px-4 py-2 rounded-xl btn-dark font-semibold">Email to Walkers</button></div><pre id="jsonPreview" class="mt-6 p-4 bg-gray-50 border rounded-xl overflow-auto text-xs hidden"></pre><br><p>Useful links:</p><ul class="list-disc ml-6"><li><a href="Doc/What's%20Next.pdf" class="underline">What\'s Next (Walkthrough)</a></li><li><a href="Doc/Trading%20Agreement%20.pdf" class="underline">Trading Agreement (PDF)</a></li><li><a href="Doc/Customer%20Checklist%20(5000)%202022.pdf" class="underline">Customer Checklist (PDF)</a></li></ul>';
      }
    }

    function openPdf(which){
      const map = {
        whatsnext: 'Doc/' + encodeURIComponent("What's Next.pdf"),
        trading: 'Doc/' + encodeURIComponent('Trading Agreement .pdf'),
        checklist: 'Doc/' + encodeURIComponent('Customer Checklist (5000) 2022.pdf')
      };
      const url = map[which];
      if(url){ window.open(url,'_blank'); }
    }

    renderSteps();
    renderContent();

    // JSON preview/download/email stub
    document.addEventListener('click', e => {
      if(e.target.id==='previewBtn'){
        document.getElementById('jsonPreview').classList.toggle('hidden');
        document.getElementById('jsonPreview').textContent=JSON.stringify(formData,null,2);
      }
      if(e.target.id==='downloadBtn'){
        const blob=new Blob([JSON.stringify(formData,null,2)],{type:'application/json'});
        const url=URL.createObjectURL(blob);
        const a=document.createElement('a');a.href=url;a.download='walkers-onboarding.json';a.click();URL.revokeObjectURL(url);
      }
      if(e.target.id==='emailBtn'){
        const body=encodeURIComponent(JSON.stringify(formData,null,2));
        window.location.href=`mailto:info@walkers-transport.co.uk?subject=Onboarding Submission&body=${body}`;
      }
    });
  </script>
</body>
</html>
